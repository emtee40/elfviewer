#============================================================================
#----------------------------------------------------------------------------

#============================================================================
#
#  Loadpt Makefile
#
#  Load point parser and partition generator make script
#
#  $Header:  $ 
#  $DateTime:  $ 
#  $Author:  $
# 
# Copyright (c) 2009 Qualcomm Incorporated.
# All Rights Reserved.
# Qualcomm Confidential and Proprietary
# 
#============================================================================

MAKEFILE=relf
TARGET=relf

#----------------------------------------------------------------------------
# Defines for tools used.
#----------------------------------------------------------------------------
CC=gcc
CFLAGS= -c -g
CFLAGS+= -DDEBUG_MSG

SHELL=/bin/sh

#-------------------------------------------------------------------
# New compile rules
#-------------------------------------------------------------------

 %.o %.o: %.c
	@echo ---------------------------------------------------------------
	@echo OBJECT_LOADPT $@ 
	$(CC) $(CFLAGS) $<
	@echo -----------------------------------------------------------
	 
#-- Object files ------------------------------------------------------------
#
#
OBJECTS = elf_parser.o\
		  parser_func.o \
		  dmsg_func.o


##-- linking ----------------------------------------------------------------
 $(TARGET)$(EXE): $(OBJECTS)
	@echo ---------------------------------------------------------------
	@echo LINKING $@ 
	$(CC) -o $@ $(OBJECTS)
	@echo -----------------------------------------------------------

##-- Default file to build ---------------------------------------------------
all:	$(TARGET)$(EXE)

#-- Rule to generate partition -----------------------------------------------
genpart:
	./$(TARGET_LOADPT)$(EXE)

#-- Target linking ----------------------------------------------------------
clean:
	rm -f $(MAKEFILE)
	rm -f *.o
 

